<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>BSUC Draft War Room</title>
  <style>
    body {
      margin: 0;
      font-family: 'Arial Black', sans-serif;
      background-color: #162636;
      color: #F5F1EB;
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    header {
      background-color: #162636;
      color: #F5F1EB;
      text-align: center;
      padding: 20px;
      width: 100%;
      border-bottom: 5px solid #C79A5B;
      position: relative;
    }
    header img {
      width: 150px;
      position: absolute;
      top: 10px;
      left: 20px;
    }
    header h1 { margin: 0; font-size: 2rem; }
    header h2 { margin: 5px 0 0 0; font-size: 1rem; color: #C79A5B; }

    .main-container {
      display: flex;
      width: 100%;
      max-width: 1800px;
      margin-top: 20px;
    }
    .draft-order {
      width: 200px;
      background-color: #162636;
      border: 3px solid #C79A5B;
      margin-right: 10px;
    }
    .draft-order h3 {
      background-color: #A22D2E;
      margin: 0;
      text-align: center;
      padding: 10px;
      border-bottom: 3px solid #C79A5B;
    }
    .draft-order ul { list-style: none; padding: 0; margin: 0; }
    .draft-order li { padding: 10px; border-bottom: 1px solid #C79A5B; }
    .draft-order li.on-clock { background-color: #C79A5B; color: #162636; font-weight: bold; }

    .board-container { flex: 1; overflow-x: auto; margin-right: 10px; }
    table { border-collapse: collapse; border: 3px solid #C79A5B; }
    th, td {
      border: 1px solid #C79A5B; text-align: center;
      min-width: 120px; height: 40px;
    }
    th { background-color: #A22D2E; color: #F5F1EB; font-size: 1rem; position: sticky; top: 0; }
    td { background-color: #162636; color: #F5F1EB; cursor: pointer; }
    td:focus { outline: none; background-color: #1F3751; }

    td.highlighted { border: 2px solid #C79A5B; }

    .status-panel {
      width: 300px;
      background-color: #162636;
      border: 3px solid #C79A5B;
      display: flex;
      flex-direction: column;
      justify-content: flex-start;
    }
    .status-panel .panel { border-bottom: 3px solid #C79A5B; padding: 20px; text-align: center; }
    .panel.pick-in { background-color: #A22D2E; font-size: 1.5rem; font-weight: bold; color: #F5F1EB; transition: background-color 0.3s; }
    .panel.on-clock { background-color: #C79A5B; color: #162636; font-weight: bold; }

    footer { margin-top: 20px; color: #C79A5B; font-size: 1.2rem; text-align: center; }

    .controls { margin: 10px 0; text-align: center; }
    .controls button { margin: 5px; padding: 10px 15px; background-color: #C79A5B; border: none; color: #162636; font-weight: bold; cursor: pointer; }

    /* Quick Search */
    .search-container { padding: 10px; text-align: center; }
    #playerSearch { width: 90%; padding: 8px; font-size: 1rem; }
    .suggestions { background: white; color: black; max-height: 150px; overflow-y: auto; margin: 0 auto; width: 90%; border: 1px solid #C79A5B; }
    .suggestions div { padding: 5px; cursor: pointer; }
    .suggestions div:hover { background: #eee; }
  </style>
</head>
<body>
  <header>
    <img src="busc_logo.jpeg" alt="BSUC Logo" />
    <h1>Bobby Shawn's Undercover Crooners</h1>
    <h2>Football is Legacy. Crooning is Life.</h2>
  </header>

  <div class="main-container">
    <div class="draft-order">
      <h3>Draft Order</h3>
      <ul id="draftOrderList"></ul>
    </div>

    <div class="board-container">
      <table id="draftBoard">
        <thead>
          <tr><th>Round</th></tr>
        </thead>
        <tbody></tbody>
      </table>
    </div>

    <div class="status-panel">
      <div class="panel on-clock" id="onClock">On the Clock: Team 1</div>
      <div class="panel pick-in" id="pickIn">Pick is In!</div>
      <div class="panel" id="lastPick">Last Pick: None</div>

      <div class="search-container">
        <input type="text" id="playerSearch" placeholder="Type player name..." autocomplete="off" />
        <div class="suggestions" id="suggestions"></div>
      </div>

      <div class="controls">
        <button id="prevBtn">Previous Pick</button>
        <button id="nextBtn">Next Pick</button>
        <button id="resetBtn">Reset Draft</button>
      </div>
    </div>
  </div>

  <footer>Football is Legacy. Crooning is Life.</footer>

  <script>
    const teams = 12;
    const rounds = 16;
    const tbody = document.querySelector('#draftBoard tbody');
    const theadRow = document.querySelector('#draftBoard thead tr');
    const draftOrderList = document.getElementById('draftOrderList');

    // Demo player list (replace with full Top 300)
    let players = [
      "Christian McCaffrey", "Justin Jefferson", "Ja'Marr Chase", "CeeDee Lamb", "Tyreek Hill",
      "Amon-Ra St. Brown", "Bijan Robinson", "Breece Hall", "Jonathan Taylor", "Travis Kelce",
      "Saquon Barkley", "Puka Nacua", "Patrick Mahomes", "Josh Allen", "Jalen Hurts",
      "Garrett Wilson", "Davante Adams", "Lamar Jackson", "A.J. Brown", "Deebo Samuel",
      "Kyren Williams", "Derrick Henry", "DK Metcalf", "Stefon Diggs", "Tee Higgins",
      "Mark Andrews", "De'Von Achane", "Kenneth Walker", "Joe Mixon", "Calvin Ridley",
      "Drake London", "Terry McLaurin", "James Cook", "Najee Harris", "Chris Olave",
      "Travis Etienne", "George Kittle", "Cooper Kupp", "David Montgomery", "Isiah Pacheco",
      "DeVonta Smith", "Tony Pollard", "Mike Evans", "Rachaad White", "Michael Pittman Jr."
    ];

    // Build table & draft order
    for (let t = 1; t <= teams; t++) {
      const th = document.createElement('th');
      th.textContent = `Team ${t}`;
      theadRow.appendChild(th);

      const li = document.createElement('li');
      li.textContent = `Team ${t}`;
      if (t === 1) li.classList.add('on-clock');
      draftOrderList.appendChild(li);
    }

    for (let r = 1; r <= rounds; r++) {
      const row = document.createElement('tr');
      const roundCell = document.createElement('td');
      roundCell.textContent = r;
      row.appendChild(roundCell);

      for (let t = 1; t <= teams; t++) {
        const cell = document.createElement('td');
        cell.contentEditable = true;
        cell.dataset.round = r;
        cell.dataset.team = t;

        const saved = localStorage.getItem(`pick_${r}_${t}`);
        if (saved) cell.textContent = saved;

        cell.addEventListener('blur', () => {
          localStorage.setItem(`pick_${r}_${t}`, cell.textContent);
          updateLastPick(cell.textContent, t);
        });

        row.appendChild(cell);
      }
      tbody.appendChild(row);
    }

    let currentTeam = 1;

    function highlightTeam(teamNum) {
      document.querySelectorAll('td').forEach(td => td.classList.remove('highlighted'));
      document.querySelectorAll(`#draftBoard td[data-team='${teamNum}']`).forEach(td => td.classList.add('highlighted'));
      document.querySelectorAll('#draftOrderList li').forEach(li => li.classList.remove('on-clock'));
      draftOrderList.querySelectorAll('li')[teamNum-1].classList.add('on-clock');
      document.getElementById('onClock').textContent = `On the Clock: Team ${teamNum}`;
    }

    function flashPickIn() {
      const panel = document.getElementById('pickIn');
      panel.style.backgroundColor = '#C79A5B';
      setTimeout(() => {
        panel.style.backgroundColor = '#A22D2E';
      }, 1500);
    }

    function updateLastPick(player, team) {
      if (!player) return;
      document.getElementById('lastPick').textContent = `Last Pick: ${player} (Team ${team})`;
      flashPickIn();
    }

    // Buttons
    document.getElementById('nextBtn').addEventListener('click', () => {
      currentTeam = currentTeam % teams + 1;
      highlightTeam(currentTeam);
    });
    document.getElementById('prevBtn').addEventListener('click', () => {
      currentTeam = (currentTeam - 2 + teams) % teams + 1;
      highlightTeam(currentTeam);
    });
    document.getElementById('resetBtn').addEventListener('click', () => {
      if (confirm('Reset all picks?')) {
        document.querySelectorAll('#draftBoard td[data-team]').forEach(td => {
          td.textContent = '';
          localStorage.removeItem(`pick_${td.dataset.round}_${td.dataset.team}`);
        });
        document.getElementById('lastPick').textContent = 'Last Pick: None';
      }
    });

    highlightTeam(currentTeam);

    // Quick search functionality
    const searchInput = document.getElementById('playerSearch');
    const suggestions = document.getElementById('suggestions');

    function showSuggestions(query) {
      suggestions.innerHTML = '';
      if (!query) return;
      const filtered = players.filter(p => p.toLowerCase().includes(query.toLowerCase()));
      filtered.slice(0, 8).forEach(player => {
        const div = document.createElement('div');
        div.textContent = player;
        div.addEventListener('click', () => selectPlayer(player));
        suggestions.appendChild(div);
      });
    }

    function selectPlayer(player) {
      const cell = document.querySelector(`#draftBoard td[data-team='${currentTeam}']:empty`);
      const row = Array.from(document.querySelectorAll(`#draftBoard td[data-team='${currentTeam}']`)).find(td => td.textContent === '');
      if (row) {
        row.textContent = player;
        localStorage.setItem(`pick_${row.dataset.round}_${row.dataset.team}`, player);
        updateLastPick(player, currentTeam);
      }
      players = players.filter(p => p !== player);
      searchInput.value = '';
      suggestions.innerHTML = '';
    }

    searchInput.addEventListener('input', () => showSuggestions(searchInput.value));
    searchInput.addEventListener('keydown', e => {
      if (e.key === 'Enter' && searchInput.value.trim()) {
        const topSuggestion = suggestions.firstChild;
        if (topSuggestion) {
          selectPlayer(topSuggestion.textContent);
        } else {
          selectPlayer(searchInput.value.trim());
        }
      }
    });
  </script>
</body>
</html>
